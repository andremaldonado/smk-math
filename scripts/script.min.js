let score,tries,difficult,problem,timer,entryTime;function getRndInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}function reset(){score=0,tries=0,difficult=1,entryTime=Date.now(),clearResults(),document.getElementById("question__difficult").innerHTML="Dificuldade: "+difficult.toFixed(2),document.getElementById("final-score").style.display="none",document.getElementById("question__score").innerText="Pontuação: "+score+" de "+tries+" tentativas."}function startTimer(){clearTimeout(timer),tick(0)}function tick(e){e++,document.getElementById("question__timer").innerText="Tempo: "+e,timer=setTimeout("tick("+e+")",1e3)}function clearResults(){document.getElementById("question__timer").innerText="Tempo: 0",document.getElementById("question__result").value="",document.getElementById("question__result").focus(),startTimer()}function updateScore(e,t){score+=e==t?1:0,document.getElementById("question__score").innerText="Pontuação: "+score+" de "+tries+" tentativas.",updateDifficult()}function updateDifficult(){difficult=score/tries*(parseInt(tries/10)+1),document.getElementById("question__difficult").innerHTML="Dificuldade: "+difficult.toFixed(2)}function solveIt(){switch(problem){case"multiplication":solveMultiplicationProblem();break;case"fraction":solveFractionProblem()}}function calculateFinalScore(){let e=(Date.now()-entryTime)/1e3;return parseInt((score^2*difficult)/(tries*e)*100)}function showFinalScore(e){document.getElementById("final-score__value").innerHTML=e,document.getElementById("question").style.display="none",document.getElementById("final-score").style.display="flex",document.getElementById("final-score__facebook-share").href=document.getElementById("final-score__facebook-share").href.replace("{{title}}","SMK Math - Minha pontuação foi de: "+e),document.getElementById("final-score__twitter-share").href=document.getElementById("final-score__twitter-share").href.replace("{{title}}","SMK Math - Minha pontuação foi de: "+e),document.getElementById("final-score__whatsapp-share").href=document.getElementById("final-score__whatsapp-share").href.replace("{{title}}","SMK Math - Minha pontuação foi de: "+e)}function loadMultiplication(){reset(),document.getElementById("question").style.display="block",loadMultiplicationProblem()}function loadMultiplicationProblem(){problem="multiplication",firstNumber=getRndInteger(0,parseInt(25*difficult)),secondNumber=getRndInteger(0,parseInt(10*difficult)),tries+=1,document.getElementById("question__problem").innerHTML="Quanto é "+firstNumber+" x "+secondNumber+"?",clearResults()}function solveMultiplicationProblem(){return updateScore(document.getElementById("question__result").value,firstNumber*secondNumber),loadMultiplicationProblem(),!1}function loadFraction(){reset(),document.getElementById("question").style.display="block",loadFractionProblem()}function loadFractionProblem(){problem="fraction",numerator=getRndInteger(1,parseInt(10*difficult)),denominator=getRndInteger(2,parseInt(10*difficult)),number=denominator*getRndInteger(1,parseInt(10*difficult)),tries+=1,document.getElementById("question__problem").innerHTML="Quanto é "+numerator+"/"+denominator+" de "+number+"?",clearResults()}function solveFractionProblem(){return updateScore(document.getElementById("question__result").value,number/denominator*numerator),loadFractionProblem(),!1}document.getElementById("header__multiplication").addEventListener("click",function(e){loadMultiplication()}),document.getElementById("header__fraction").addEventListener("click",function(e){loadFraction()}),document.getElementById("question__result").addEventListener("keyup",function(e){13===e.keyCode&&solveIt()}),document.getElementById("question__next").addEventListener("click",function(e){solveIt()}),document.getElementById("question__finish").addEventListener("click",function(e){showFinalScore(calculateFinalScore())}),reset();